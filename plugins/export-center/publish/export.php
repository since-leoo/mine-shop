<?php

declare(strict_types=1);
/**
 * This file is part of MineAdmin.
 *
 * @link     https://www.mineadmin.com
 * @document https://doc.mineadmin.com
 * @contact  root@imoi.cn
 * @license  https://github.com/mineadmin/MineAdmin/blob/master/LICENSE
 */
return [
    /*
    |--------------------------------------------------------------------------
    | 临时文件存储路径
    |--------------------------------------------------------------------------
    |
    | 导出文件生成时的临时目录，文件上传到第三方存储后会自动清理。
    |
    */
    'temp_path' => env('EXPORT_TEMP_PATH', BASE_PATH . '/storage/exports/temp'),

    /*
    |--------------------------------------------------------------------------
    | 文件过期天数
    |--------------------------------------------------------------------------
    |
    | 导出文件的保留天数，超过该天数的文件将被自动清理。
    |
    */
    'expire_days' => (int) env('EXPORT_EXPIRE_DAYS', 7),

    /*
    |--------------------------------------------------------------------------
    | 最大文件大小（字节）
    |--------------------------------------------------------------------------
    |
    | 单个导出文件允许的最大大小，默认 100MB。
    |
    */
    'max_file_size' => (int) env('EXPORT_MAX_FILE_SIZE', 100 * 1024 * 1024),

    /*
    |--------------------------------------------------------------------------
    | 最大重试次数
    |--------------------------------------------------------------------------
    |
    | 导出任务失败后的最大自动重试次数。
    |
    */
    'max_retries' => (int) env('EXPORT_MAX_RETRIES', 3),

    /*
    |--------------------------------------------------------------------------
    | 最大数据量（条）
    |--------------------------------------------------------------------------
    |
    | 单次导出允许的最大数据记录数。
    |
    */
    'max_records' => (int) env('EXPORT_MAX_RECORDS', 100000),

    /*
    |--------------------------------------------------------------------------
    | 单个 Excel 文件最大行数
    |--------------------------------------------------------------------------
    |
    | 超过此行数后自动拆分为多个文件，最终打包为 zip 下载。
    | 设为 0 表示不限制。
    |
    */
    'max_rows_per_file' => (int) env('EXPORT_MAX_ROWS_PER_FILE', 50000),
];
